//- Manager Home Page: choose to view shifts or edit organization
//- @author Lily Seropian

block head    
  include edit-org.jade
  include home.jade
  include shift-calendar.jade

  script(type="text/javascript", src="/javascripts/controllers/manager-controller.js")
  script(type="text/javascript", src="/javascripts/services/schedule-service.js")

mixin manager(user)
  +shift-calendar(user.org)
  div(ng-controller="ManagerController" ng-init="init('#{user.org}')")
    input(type="submit", ng-click="currentPage = 'Home'", ng-show="currentPage !== 'Home'", value="Home")
    input(type="submit", ng-click="currentPage = 'Edit'", ng-show="currentPage !== 'Edit'", value="Edit Organization")

    div(ng-switch on="currentPage")
      div(ng-switch-when="Home")
        hr
        +allShifts(user.org)
        hr
      div(ng-switch-when="Edit")
        +editRoles()
        +editUsers()